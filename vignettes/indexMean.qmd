---
title: "Simulate and Summarize Projection Pursuit Index (PPI) Means"
author: "Tina Rashid Jafari"
vignette: >
  %\VignetteIndexEntry{Simulate and Summarize Projection Pursuit Index (PPI) Means}
  %\VignetteEngine{quarto::html}
  %\VignetteEncoding{UTF-8}
---

```{r, include=FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  message=FALSE, 
  warning=FALSE
)
```

## Overview

`ppi_mean()` simulates and summarizes a projection pursuit index (PPI) over all 2D variable pairs in a dataset. For each pair, it repeats the index evaluation `n_sim` times (sampling `n_obs` observations each time) and returns the mean index per pair.

```{r}
library(spinebil) 
```

## What the Function Does

`ppi_mean(data, index_fun, n_sim = 100, n_obs = 300)`

* Builds all 2-column variable pairs from `data`.
* For each simulation (1,...,`n_sim`) and each pair `(x, y)`, computes the index via `index_fun`.
* Aggregates to the mean index per pair.


## Function usage

```r
res <- ppi_mean(
  data,        # data frame with ≥ 2 numeric columns
  index_fun,   #function taking n×2 matrix and returning a numeric value
  n_sim = 100,
  n_obs = 300
)
```

## Example Usage

  
```{r}
data <- as.data.frame(data_gen(type = "polynomial", degree = 2))
res  <- ppi_mean(data, scagIndex("stringy"), n_sim = 5)
res
```



## Return value

A **tibble** with one row per variable pair:
  
* `var_i`, `var_j` — names of the variables forming the pair.
* `mean_index` — the mean of the index across `n_sim` simulations for that pair.

